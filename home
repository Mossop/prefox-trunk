# HG changeset patch
# User Dave Townsend <dtownsend@oxymoronical.com>
# Date 1278534394 25200
# Node ID caab0c2435109f57c6611b936184cfc1e0f9f8d0
# Parent 17c150945bffa8331cb1cffd145fdacf31cce6db
[palm] Avoid crash when running from the launcher

diff --git a/xpcom/io/SpecialSystemDirectory.cpp b/xpcom/io/SpecialSystemDirectory.cpp
--- a/xpcom/io/SpecialSystemDirectory.cpp
+++ b/xpcom/io/SpecialSystemDirectory.cpp
@@ -508,6 +508,9 @@ GetUnixXDGUserDirectory(SystemDirectorie
 
         rv = file->AppendNative(NS_LITERAL_CSTRING(".documents"));
     }
+#elif defined(WEBOS)
+     // XXX no home dir on android; maybe we should return the sdcard if present?
+     return NS_ERROR_FAILURE;
 #else
     else {
       // no fallback for the other XDG dirs
